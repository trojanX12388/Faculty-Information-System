{% extends "/System-Admin-Page/base.html" %}{% block title %}Faculty Management{% endblock %} {% block content%}


<main id="main" class="main">
  <div style="background-color:#08101B; height:200px; position: relative; display: flex; align-items: center;">
    <div style="background: url('{{ url_for('static', filename='images/Default-Images/pupqc-logo.png')}}') no-repeat; background-size: 300px 300px; width: 300px; height: 200px; opacity: 0.5; filter: grayscale(100%);"></div>
    <div style="margin-left: 20px;">
        <h1 style="color:#FFFFFF;">FACULTY MANAGEMENT</h1>
        <nav>
            <ol class="breadcrumb">
                <li class="breadcrumb-item" style="color:#CECDCD;"><a href="/auth/sysadmin/homepage" style="color:#CECDCD;">System Admin Faculty Management</a></li>
            </ol>
        </nav>
    </div>
</div><!-- End Page Title -->

  <br><br>

  <style>
    .responsive-table {
      display: flex;
      flex-wrap: wrap;
      margin: -10px; /* Adjust margin as needed */
    }
  
    .responsive-table td {
      flex: 1;
      padding: 10px; /* Adjust padding as needed */
      box-sizing: border-box;
    }
  
    .responsive-table h6 {
      margin: 0;
    }
    .btnprinter-container {
      text-align: right;
    }
  
    .btnprinter {
      width: 50px;
      background-color: transparent;
      border: none;
      padding: 0;
      cursor: pointer;
    }
  
    .btnprinter i {
      font-size: 24px; /* You can adjust the font size as needed */
      color: #000; /* You can set the color as needed */
    }

  </style>

  
<style>
  .close {
      background: none;
      border: none;
      padding: 0;
      cursor: pointer;
  }

  .close-icon {
      color: #000; /* Set the color you want for the "x" */
      font-size: 20px; /* Set the font size for the "x" */
  }
</style>

  <section class="section dashboard">
    <div class="row">

       <!-- Left side columns -->
       <div class="col-lg-12">
        <div class="row">

     <!-- Faculty Members -->
     <div class="col-12">
      <div class="card recent-sales overflow-auto">

        <div class="card-body">
          <h5 class="card-title">Faculty Members</h5>
            {# DISPLAY NOTIFICATION ERROR  #} 
            
          {% with messages = get_flashed_messages(with_categories=true) %}
          {% if messages %}
              {% for category, message in messages %}
                  {% if category == 'error' %}
                      <div class="alert alert-danger alert-dismissible fade show d-flex justify-content-between" role="alert" style="z-index:1;">
                          <div>{{ message }}</div>
                          <button type="button" class="close" data-dismiss="alert" aria-label="Close" onclick="closeNotification(this)">
                              <span aria-hidden="true" class="close-icon">&times;</span>
                          </button>
                      </div>
                  {% elif category == 'success' %}
                      <div class="alert alert-success alert-dismissible fade show d-flex justify-content-between" role="alert" style="z-index:1;">
                          <div>{{ message }}</div>
                          <button type="button" class="close" data-dismiss="alert" aria-label="Close" onclick="closeNotification(this)">
                              <span aria-hidden="true" class="close-icon">&times;</span>
                          </button>
                      </div>
                  {% endif %}
              {% endfor %}
          {% endif %}
      {% endwith %}

        <script>
          function closeNotification(button) {
              // Find the parent notification element and remove it
              var notification = button.closest('.alert');
              notification.remove();
          }
      </script>

          <div class="d-grid gap-2 mt-3">
            <div class="card-body profile-card pt-4 d-flex flex-column align-items-end">
              <button class="btn btn-outline-primary" type="button" data-bs-toggle="modal" data-bs-target="#addrecord"><i class="bi bi-plus-circle"></i> Add New Faculty</button>
            </div>
          </div>
          <h6 class="card-title">Click the ID of a faculty member to view more information.</h6>

          <table class="table table-borderless datatable">
            <thead>
              <tr>
                <th>Faculty ID</th>
                <th>Profile Image</th>
                <th>Name</th>
                <th>Date Hired</th>
                <th>Account Status</th>
                <th>Edit Information</th>
                <th>Update Status</th>
              </tr>
            </thead>
            <tbody>
              {% for faculty_id in FacultyIds %}
              {% set faculty_info = api_data['Faculties'][faculty_id] %}
              <tr>
                <td><h6>{{ faculty_id }}</h6></td>
                <td><img src="https://lh3.googleusercontent.com/d/{{ faculty_info['ProfilePic'] }}" alt="Profile Pic" style="width:90px;height:80px; border-radius: 10px 10px 10px 10px"></td>
                <td>{{ faculty_info['FirstName']}} {{faculty_info['LastName']}}</td>
                <td>{{ format_date(faculty_info['DateHired']) }}</td>
                {% if faculty_info['Status'] == "Active" %}
                <td><h6 class="badge bg-success" style="width:158px;height:20px;">Active</h6></td>
                {% elif faculty_info['Status'] == "Locked" %}
                <td><h6 class="badge bg-warning" style="width:158px;height:20px;">Locked</h6></td>
                {% elif faculty_info['Status'] == "Disabled" %}
                <td><h6 class="badge bg-danger" style="width:158px;height:20px;">Disabled</h6></td>
                {% elif faculty_info['Status'] == "Deactivated" %}
                <td><h6 class="badge bg-secondary" style="width:158px;height:20px;">Deactivated</h6></td>
                {% else  %}
                <td><h6 class="badge bg-light text-dark" style="width:158px;height:20px;">Unknown</h6></td>
                {% endif %}
                <td>
                  <button type="button" class="btn btn-secondary rounded-pill" data-bs-toggle="modal" data-bs-target="#{{ faculty_id }}"><i class="bi bi-file-earmark-text"></i></button>
              </td>
              <td>
                <button type="submit" class="btn btn-warning rounded-pill" data-bs-toggle="modal" data-bs-target="#d{{ faculty_id }}"><i class="bi bi-patch-exclamation-fill"></i></button>
            </td>
              </tr>

                  <!-- Edit Record Modal-->

                  <div class="modal fade" id="{{faculty_id}}" tabindex="-1">
                    <div class="modal-dialog modal-dialog-centered modal-lg">
                      <div class="modal-content">
                        <div class="modal-header">
                          <h5 class="modal-title">Edit Faculty Information</h5>
                          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                          <ul class="nav nav-tabs nav-tabs-bordered">

                            <li class="nav-item">
                              <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#{{faculty_id}}profile-overview">Faculty Information</button>
                            </li>
            
                            <li class="nav-item">
                              <button class="nav-link" data-bs-toggle="tab" data-bs-target="#{{faculty_id}}profile-basic-details">Password</button>
                            </li>
            
                          </ul>
                  <div class="tab-content pt-2">

                    <div class="tab-pane fade show active profile-overview" id="{{faculty_id}}profile-overview">

                <form action="/auth/sysadmin/Faculty-Management/update-info" method="POST" enctype="multipart/form-data" accept-charset="utf-8">
                    <div class="modal-body">

                         <h5 class="card-title">Basic Information</h5>
          
                         <div class="row mb-3">
                          <label for="{{faculty_id}}first_name" class="col-md-4 col-lg-3 col-form-label">First Name</label>
                          <div class="col-md-8 col-lg-9">
                            <input required name="first_name" type="text" class="form-control" id="{{faculty_id}}first_name" value="{{faculty_info['FirstName']}}">
                          </div>
                        </div>
          
                         <div class="row mb-3">
                          <label for="{{faculty_id}}last_name" class="col-md-4 col-lg-3 col-form-label">Last Name</label>
                          <div class="col-md-8 col-lg-9">
                            <input required name="last_name" type="text" class="form-control" id="{{faculty_id}}last_name" value="{{faculty_info['LastName']}}">
                          </div>
                        </div>
          
                        <div class="row mb-3">
                          <label for="{{faculty_id}}middle_name" class="col-md-4 col-lg-3 col-form-label">Middle Name</label>
                          <div class="col-md-8 col-lg-9">
                            <input name="middle_name" type="text" class="form-control" id="{{faculty_id}}middle_name" value="{{faculty_info['MiddleName']}}">
                          </div>
                        </div>
          
                        <div class="row mb-3">
                          <label for="{{faculty_id}}middle_initial" class="col-md-4 col-lg-3 col-form-label">Middle Initial</label>
                          <div class="col-md-8 col-lg-9">
                            <div class="col-md-10" style="width:100%;">
               
                                <select class="form-select" name="middle_initial" id="{{faculty_id}}middle_initial" style="height:40px;" aria-label="{{faculty_id}}middle_initial">
                                  <option selected value="{{faculty_info['MiddleInitial']}}">{{faculty_info['MiddleInitial']}}</option>
                                  <option value="A">A</option>
                                  <option value="B">B</option>
                                  <option value="C">C</option>
                                  <option value="D">D</option>
                                  <option value="E">E</option>
                                  <option value="F">F</option>
                                  <option value="G">G</option>
                                  <option value="H">H</option>
                                  <option value="I">I</option>
                                  <option value="J">J</option>
                                  <option value="K">K</option>
                                  <option value="L">L</option>
                                  <option value="M">M</option>
                                  <option value="N">N</option>
                                  <option value="O">O</option>
                                  <option value="P">P</option>
                                  <option value="Q">Q</option>
                                  <option value="R">R</option>
                                  <option value="S">S</option>
                                  <option value="T">T</option>
                                  <option value="U">U</option>
                                  <option value="V">V</option>
                                  <option value="W">W</option>
                                  <option value="X">X</option>
                                  <option value="Y">Y</option>
                                  <option value="Z">Z</option>
                                  <option value="">N/A</option>
                                </select>
                           
                          </div> 
                          </div>
                        </div>
            
                        <div class="row mb-3">
                          <label for="{{faculty_id}}name_extension" class="col-md-4 col-lg-3 col-form-label">Name Extension</label>
                          <div class="col-md-8 col-lg-9">
                            <div class="col-md-10" style="width:100%;">
               
                                <select class="form-select" name="name_extension" id="{{faculty_id}}name_extension" style="height:40px;" aria-label="{{faculty_id}}name_extension">
                                  <option selected value="{{faculty_info['NameExtension']}}">{% if faculty_info['NameExtension'] == "" %}
                                    N/A
                                  {% elif faculty_info['NameExtension'] == None %}
                                    N/A
                                    {% endif %}
                                </option>
                                  
                                  <option value="JR">JR</option>
                                  <option value="SR">SR</option>
                                  <option value="II">II</option>
                                  <option value="III">III</option>
                                  <option value="IV">IV</option>
                                  <option value="V">V</option>
                                  <option value="">N/A</option>
                                </select>
                           
                          </div> 
                          </div>
                        </div>
          
                        <div class="row mb-3">
                          <label for="{{faculty_id}}gender" class="col-md-4 col-lg-3 col-form-label">Gender</label>
                          <div class="col-md-8 col-lg-9">
                            <div class="col-md-10" style="width:100%;">
               
                                <select class="form-select" name="gender" type="number" id="{{faculty_id}}gender" style="height:40px;" aria-label="{{faculty_id}}gender">
                                  <option selected value="{{faculty_info['Gender']}}">{% if faculty_info['Gender'] == 1 %}
                                    Male
                                  {% else %}
                                  Female
                                  {% endif %}
                                  </option>
                                  <option value="1">Male</option>
                                  <option value="2">Female</option>
                                </select>
                           
                          </div> 
                          </div>
                        </div>
                        
                        <div class="row mb-3">
                          <label for="{{faculty_id}}birth_date" class="col-md-4 col-lg-3 col-form-label">Birth Date</label>
                          <div class="col-md-8 col-lg-9">
                            <input required name="birth_date" type="date" class="form-control" id="{{faculty_id}}birth_date" value="{{ format_date_2(faculty_info['BirthDate']) }}">
                          </div>
                        </div>

          
                        <div class="row mb-3">
                          <label for="{{faculty_id}}email" class="col-md-4 col-lg-3 col-form-label">Email Address</label>
                          <div class="col-md-8 col-lg-9">
                            <input required name="email" type="email" class="form-control" id="{{faculty_id}}email" value="{{faculty_info['Email']}}" >
                          </div>
                        </div>
                        
                        <div class="row mb-3">
                          <label for="{{faculty_id}}honorific" class="col-md-4 col-lg-3 col-form-label">Honorific</label>
                          <div class="col-md-8 col-lg-9">
                            <input name="honorific" type="text" class="form-control" id="{{faculty_id}}honorific" value="{{faculty_info['Honorific']}}">
                          </div>
                        </div>
          
                        <div class="row mb-3">
                          <label for="{{faculty_id}}res_address" class="col-md-4 col-lg-3 col-form-label">Residential Address</label>
                          <div class="col-md-8 col-lg-9">
                            <input name="res_address" type="text" class="form-control" id="{{faculty_id}}res_address" value="{{faculty_info['ResidentialAddress']}}">
                          </div>
                        </div>
          
                        <div class="row mb-3">
                          <label for="{{faculty_id}}number" class="col-md-4 col-lg-3 col-form-label">Mobile Number</label>
                          <div class="col-md-8 col-lg-9">
                              <input name="number" type="text" class="form-control" id="{{faculty_id}}number" pattern="\d{11}" title="Enter a valid 11-digit mobile number" value="{{faculty_info['MobileNumber']}}"/>
                          </div>
                      </div>
          
          
                        <br><br><br>
          
                        <h5 class="card-title">Faculty Information</h5>
          
                        <div class="row mb-3">
                          <label for="{{faculty_id}}type" class="col-md-4 col-lg-3 col-form-label">Faculty Type</label>
                          <div class="col-md-8 col-lg-9">
                            <div class="col-md-10" style="width:100%;">
               
                                <select class="form-select" name="type" id="{{faculty_id}}type" style="height:40px;" aria-label="{{faculty_id}}type">
                                  <option selected value="{{faculty_info['FacultyType']}}">{{faculty_info['FacultyType']}}</option>
                                  <option value="Instructor">Instructor</option>
                                  <option value="Lecturer">Lecturer</option>
                                  <option value="Reseacher">Reseacher</option>
                                  <option value="Professor">Professor</option>
                                  <option value="Assistant Professor">Assistant Professor</option>
                                  <option value="Associate Professor">Associate Professor</option>
                                  <option value="Visiting Professor">Visiting Professor</option>
                                  <option value="Emeritus Professor">Emeritus Professor</option>
                                </select>
                           
                          </div> 
                          </div>
                        </div>
          
                        <div class="row mb-3">
                          <label for="{{faculty_id}}rank" class="col-md-4 col-lg-3 col-form-label">Rank</label>
                          <div class="col-md-8 col-lg-9">
                            <div class="col-md-10" style="width:100%;">
               
                                <select class="form-select" name="rank" id="{{faculty_id}}rank" style="height:40px;" aria-label="{{faculty_id}}rank">
                                  <option selected value="{{faculty_info['Rank']}}">{{faculty_info['Rank']}}</option>
                                  <option value="Instructor I">Instructor I</option>
                                  <option value="Instructor II">Instructor II</option>
                                  <option value="Instructor III">Instructor III</option>
                                  <option value="Instructor IV">Instructor IV</option>
                                  <option value="Instructor V">Instructor V</option>
          
                                  <option value="Assistant Professor I">Assistant Professor I</option>
                                  <option value="Assistant Professor II">Assistant Professor II</option>
                                  <option value="Assistant Professor III">Assistant Professor III</option>
                                  <option value="Assistant Professor IV">Assistant Professor IV</option>
                                  <option value="Assistant Professor V">Assistant Professor V</option>
                                  
                                  <option value="Associate Professor I">Associate Professor I</option>
                                  <option value="Associate Professor II">Associate Professor II</option>
                                  <option value="Associate Professor III">Associate Professor III</option>
                                  <option value="Associate Professor IV">Associate Professor IV</option>
                                  <option value="Associate Professor V">Associate Professor V</option>
                                </select>
                           
                          </div> 
                          </div>
                        </div>
          
                        <div class="row mb-3">
                          <label for="{{faculty_id}}units" class="col-md-4 col-lg-3 col-form-label">Units</label>
                          <div class="col-md-8 col-lg-9">
                              <input required name="units" type="text" class="form-control" id="{{faculty_id}}units" pattern="\d+(\.\d{1,2})?" title="Enter a valid decimal number" value="{{faculty_info['Units']}}" disabled/>
                          </div>
                      </div>
                
      
                                <script>
                                  document.getElementById('{{faculty_id}}type').addEventListener('change', function() {
                                    var unitInput{{faculty_id}} = document.getElementById('{{faculty_id}}units');
                                    var typeValue{{faculty_id}} = this.value;
                                
                                    switch (typeValue{{faculty_id}}) {
                                      case 'Instructor':
                                        unitInput{{faculty_id}}.value = 12;
                                        break;
                                      case 'Lecturer':
                                        unitInput{{faculty_id}}.value = 9;
                                        break;
                                      case 'Reseacher':
                                        unitInput{{faculty_id}}.value = 2;
                                        break;
                                      case 'Professor':
                                        unitInput{{faculty_id}}.value = 15;
                                        break;
                                      case 'Assistant Professor':
                                        unitInput{{faculty_id}}.value = 12;
                                        break;
                                      case 'Associate Professor':
                                        unitInput{{faculty_id}}.value = 15;
                                        break;
                                      case 'Visiting Professor':
                                        unitInput{{faculty_id}}.value = 9;
                                        break;
                                      case 'Emeritus Professor':
                                        unitInput{{faculty_id}}.value = 1;
                                        break;
                                      default:
                                        unitInput{{faculty_id}}.value = 12; // You can set a default value if needed
                                    }
                                
                                    unitInput{{faculty_id}}.setAttribute('value', unitInput{{faculty_id}}.value); // Set the value attribute
                                    unitInput{{faculty_id}}.disabled = true; // If you want to disable the input after setting the value
                                  });
                                </script>
          
                        <div class="row mb-3">
                          <label for="{{faculty_id}}degree" class="col-md-4 col-lg-3 col-form-label">Degree</label>
                          <div class="col-md-8 col-lg-9">
                            <div class="col-md-10" style="width:100%;">
               
                                <select class="form-select" name="degree" id="{{faculty_id}}degree" style="height:40px;" aria-label="degree">
                                  <!-- Master's Degrees -->
                                  <option selected value="{{faculty_info['Degree']}}">{{faculty_info['Degree']}}</option>
                                  <option value="Master in Business Administration">Master in Business Administration</option>
                                  <option value="Master of Science in Computer Science">Master of Science in Computer Science</option>
                                  <option value="Master of Fine Arts in Creative Writing">Master of Fine Arts in Creative Writing</option>
                                  <option value="Master of Social Work">Master of Social Work</option>
                                  <option value="Master of Architecture">Master of Architecture</option>
                                  <option value="Master of Public Health">Master of Public Health</option>
                                  <option value="Master of Education">Master of Education</option>
                                  <option value="Master of Laws">Master of Laws</option>
                                  <option value="Master of Engineering in Civil Engineering">Master of Engineering in Civil Engineering</option>
                                  <option value="Master of Arts in English Literature">Master of Arts in English Literature</option>
                                  <option value="Master of Information Technology">Master of Information Technology</option>
                                  <option value="Master of Computer Science">Master of Computer Science</option>
                                  <option value="Master of Information Systems">Master of Information Systems</option>
                                  <option value="Master of Software Development">Master of Software Development</option>
                                  <option value="Master of Data Analytics">Master of Data Analytics</option>
                                  <!-- Bachelor's Degrees -->
                                  <option value="Bachelor in Physical Education">Bachelor in Physical Education</option>
                                  <option value="Bachelor of Arts in Psychology">Bachelor of Arts in Psychology</option>
                                  <option value="Bachelor of Engineering in Mechanical Engineering">Bachelor of Engineering in Mechanical Engineering</option>
                                  <option value="Bachelor of Science in Environmental Science">Bachelor of Science in Environmental Science</option>
                                  <option value="Bachelor of Music">Bachelor of Music</option>
                                  <option value="Bachelor of Business Administration">Bachelor of Business Administration</option>
                                  <option value="Bachelor of Science in Chemistry">Bachelor of Science in Chemistry</option>
                                  <option value="Bachelor of Communication Studies">Bachelor of Communication Studies</option>
                                  <option value="Bachelor of Social Work">Bachelor of Social Work</option>
                                  <option value="Bachelor of Software Engineering">Bachelor of Software Engineering</option>
                                  <option value="Bachelor of Data Science">Bachelor of Data Science</option>
                                  <option value="Bachelor of Science in Information Technology">Bachelor of Science in Information Technology</option>
                                  <option value="Bachelor of Fine Arts in Graphic Design">Bachelor of Fine Arts in Graphic Design</option>
                                  <option value="Bachelor of Science in Nursing">Bachelor of Science in Nursing</option>
                                  <option value="Bachelor of Fine Arts in Photography">Bachelor of Fine Arts in Photography</option>
                                  <!-- Other Degrees -->
                                  <option value="Doctor in Public Administration">Doctor in Public Administration</option>
                                  <option value="Doctor of Medicine">Doctor of Medicine</option>
                                  <option value="Doctor of Philosophy in Economics">Doctor of Philosophy in Economics</option>
                                  <option value="Doctor of Dental Medicine">Doctor of Dental Medicine</option>
                                  <option value="Doctor of Psychology">Doctor of Psychology</option>
                                  <option value="Doctor of Veterinary Medicine">Doctor of Veterinary Medicine</option>
                                  <option value="Juris Doctor">Juris Doctor</option>
                                </select>
                           
                          </div> 
                          </div>
                        </div>
          
                        <div class="row mb-3">
                          <label for="{{faculty_id}}specialization" class="col-md-4 col-lg-3 col-form-label">Specialization</label>
                          <div class="col-md-8 col-lg-9">
                              <input name="specialization" type="text" class="form-control" id="{{faculty_id}}specialization" value="{{faculty_info['Specialization']}}"/>
                          </div>
                      </div>
          
                        <div class="row mb-3">
                          <label for="{{faculty_id}}date_hired" class="col-md-4 col-lg-3 col-form-label">Date Hired</label>
                          <div class="col-md-8 col-lg-9">
                            <input required name="date_hired" type="date" class="form-control" id="{{faculty_id}}date_hired" value="{{ format_date_2(faculty_info['DateHired']) }}" >
                          </div>
                        </div>
          
                        <br><br><br>
          
                        <h5 class="card-title">Preferred Schedule</h5>

                        <div class="row mb-3">
                          <label for="day{{faculty_id}}" class="col-md-4 col-lg-3 col-form-label">Day</label>
                          <div class="col-md-8 col-lg-9">
                            <div class="col-md-10" style="width:100%;">
               
                                <select class="form-select" name="day" id="day{{faculty_id}}" style="height:40px;" aria-label="day{{faculty_id}}">
                                  <option selected value="{{ extract_day_and_time(faculty_info['PreferredSchedule'])[0] }}">{{ extract_day_and_time(faculty_info['PreferredSchedule'])[0] }}</option>
                                  <option value="Monday">Monday</option>
                                  <option value="Tuesday">Tuesday</option>
                                  <option value="Wednesday">Wednesday</option>
                                  <option value="Thursday">Thursday</option>
                                  <option value="Friday">Friday</option>
                                  <option value="Monday to Tuesday">Monday to Tuesday</option>
                                  <option value="Monday to Wednesday">Monday to Wednesday</option>
                                  <option value="Monday to Thursday">Monday to Thursday</option>
                                  <option value="Monday to Friday">Monday to Friday</option>
                                  <option value="Tuesday to Wednesday">Tuesday to Wednesday</option>
                                  <option value="Tuesday to Thursday">Tuesday to Thursday</option>
                                  <option value="Tuesday to Friday">Tuesday to Friday</option>
                                  <option value="Wednesday to Thursday">Wednesday to Thursday</option>
                                  <option value="Wednesday to Friday">Wednesday to Friday</option>
                                  <option value="Thursday to Friday">Thursday to Friday</option>
                                  <option value="Monday, Wednesday, and Friday">Monday, Wednesday, and Friday</option>
                                  <option value="Tuesday, Thursday, and Friday">Tuesday, Thursday, and Friday</option>
                                  <option value="Monday, Tuesday, and Thursday">Monday, Tuesday, and Thursday</option>
                                  <option value="Every Day">Every Day</option>
                                </select>
                           
                          </div> 
                          </div>
                        </div>
          
                        <div class="row mb-3">
                          <label for="{{faculty_id}}time" class="col-md-4 col-lg-3 col-form-label">Time</label>
                          <div class="col-md-8 col-lg-9">
                            <div class="col-md-10" style="width:100%;">
               
                                <select class="form-select" name="time" id="{{faculty_id}}time" style="height:40px;" aria-label="{{faculty_id}}time">
                                  <option selected value="{{ extract_day_and_time(faculty_info['PreferredSchedule'])[1] }}">{{ extract_day_and_time(faculty_info['PreferredSchedule'])[1] }}</option>
                                  <option value="9:00 AM - 12:00 PM">Morning (9:00 AM - 12:00 PM)</option>
                                  <option value="12:00 PM - 2:00 PM">Noon (12:00 PM - 2:00 PM)</option>
                                  <option value="2:00 PM - 6:00 PM">Afternoon (2:00 PM - 6:00 PM)</option>
                                  <option value="6:00 PM - 9:00 PM">Evening (6:00 PM - 9:00 PM)</option>
                                  <option value="Whole Day">Whole Day</option>
                                </select>
                           
                          </div> 
                          </div>
                        </div>
          
                        <br><br><br>
          
                    </div>  

                    <div class="modal-footer">
                      <input required type="hidden" name="id2" value="{{faculty_id}}"></input> 
                      <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"><i class="bi bi-x-circle"></i> Cancel</button>
                      <button type="submit" class="btn btn-primary"><i class="bi bi-check-circle"></i> Update</button>
                    </div>

                  </form>

                        </div>
                        <div class="tab-content pt-2">
                        <div class="tab-pane fade profile-edit pt-2" id="{{faculty_id}}profile-basic-details">

                          <div class="modal-body">

                          <h5 class="card-title">Change Password</h5>
                    <form action="/auth/sysadmin/Faculty-Management/update-pass" method="POST" enctype="multipart/form-data" accept-charset="utf-8" id="passform{{faculty_id}}">
                          <div class="row mb-3">
                              <label for="{{faculty_id}}new_password" class="col-md-4 col-lg-3 col-form-label">New Password</label>
                              <div class="col-md-8 col-lg-9">
                                <input name="new_password" type="password" class="form-control" id="{{faculty_id}}new_password" value="" required>
                              </div>
                          </div>

                          <div class="row mb-3">
                            <label for="{{faculty_id}}conf_password" class="col-md-4 col-lg-3 col-form-label">Confirm Password</label>
                            <div class="col-md-8 col-lg-9">
                              <input name="conf_password" type="password" class="form-control" id="{{faculty_id}}conf_password" value="" required>
                            </div>
                        </div>

                          <br><br><br>
            
                        </div>

                        <div class="modal-footer">
                          <input required type="hidden" name="id" value="{{faculty_id}}"></input> 
                          <input required type="hidden" name="email" value="{{faculty_info['Email']}}"></input> 
                          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"><i class="bi bi-x-circle"></i> Cancel</button>
                          <button type="submit" class="btn btn-primary"><i class="bi bi-check-circle"></i> Update</button>
                        </div>

                        </div>
                      </div>
                       
                  </form>

                  <script>
                    document.addEventListener('DOMContentLoaded', function () {
                        var form = document.querySelector('#passform{{faculty_id}}'); // Fix: use #passform for ID selector
                
                        form.addEventListener('submit', function (event) {
                            var newPassword = document.getElementById('{{faculty_id}}new_password').value;
                            var confirmPassword = document.getElementById('{{faculty_id}}conf_password').value;
                
                            if (newPassword !== confirmPassword) {
                                alert('New Password and Confirm Password must match!');
                                event.preventDefault(); // Prevent form submission
                            }
                        });
                    });
                </script>

                      </div>
                    </div>
                  </div>
                </div>
                  </div><!-- End Edit Record Modal-->
                
  
                  <!-- UPDATE STATUS Modal-->
                
                  <div class="modal fade" id="d{{faculty_id}}" tabindex="-1">
                    <div class="modal-dialog modal-dialog-centered modal-lg">
                      <div class="modal-content">
                        <div class="modal-header">
                          <h5 class="modal-title">Update Status</h5>
                          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                        <form action="/auth/sysadmin/Faculty-Management/update-status" method="POST" enctype="multipart/form-data" accept-charset="utf-8">
                            <input required type="hidden" name="id" value="{{faculty_id}}"></input> 

                            <div class="row mb-3">

                              <br><br><br>
          
                       
                              <label for="{{faculty_id}}status" class="col-md-4 col-lg-3 col-form-label">Account Status</label>
                              <div class="col-md-8 col-lg-9">
                                <div class="col-md-10" style="width:100%;">
                   
                                    <select class="form-select" name="status" id="{{faculty_id}}status" style="height:40px;" aria-label="{{faculty_id}}status">
                                      <option selected value="{{faculty_info['Status']}}">{{faculty_info['Status']}}</option>
                                      <option value="Active">Active</option>
                                      <option value="Disabled">Disabled</option>
                                      <option value="Locked">Locked</option>
                                      <option value="Deactivated">Deactivated</option>
                                    </select>
                               
                              </div> 
                              </div>
                            </div>

                          <div class="modal-footer">
                            <input required type="hidden" name="id" value="{{faculty_id}}"></input> 
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"><i class="bi bi-x-circle"></i> Cancel</button>
                            <button type="submit" class="btn btn-primary"><i class="bi bi-check-circle"></i> Confirm</button>
                          </div>
                      </form>
                        </div>
                      </div>
                    </div>
                  </div><!-- End Delete Record Modal-->

            {% endfor %}

            </tbody>
          </table>

        </div>

      </div>
    </div><!-- End Recent Sales -->

   
  </section>
</main><!-- End #main -->

     <!-- Add Record Modal-->

     <div class="modal fade" id="addrecord" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Add New Faculty</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">

            <form action="/auth/sysadmin/Faculty-Management/add-record" method="POST" enctype="multipart/form-data" accept-charset="utf-8">
     
               <h5 class="card-title">Basic Information</h5>

               <div class="row mb-3">
                <label for="first_name" class="col-md-4 col-lg-3 col-form-label">First Name</label>
                <div class="col-md-8 col-lg-9">
                  <input required name="first_name" type="text" class="form-control" id="first_name" value="">
                </div>
              </div>

               <div class="row mb-3">
                <label for="last_name" class="col-md-4 col-lg-3 col-form-label">Last Name</label>
                <div class="col-md-8 col-lg-9">
                  <input required name="last_name" type="text" class="form-control" id="last_name" value="">
                </div>
              </div>

              <div class="row mb-3">
                <label for="middle_name" class="col-md-4 col-lg-3 col-form-label">Middle Name</label>
                <div class="col-md-8 col-lg-9">
                  <input name="middle_name" type="text" class="form-control" id="middle_name" value="">
                </div>
              </div>

              <div class="row mb-3">
                <label for="middle_initial" class="col-md-4 col-lg-3 col-form-label">Middle Initial</label>
                <div class="col-md-8 col-lg-9">
                  <div class="col-md-10" style="width:100%;">
     
                      <select class="form-select" name="middle_initial" id="middle_initial" style="height:40px;" aria-label="name_extension">
                        
                        <option value="A">A</option>
                        <option value="B">B</option>
                        <option value="C">C</option>
                        <option value="D">D</option>
                        <option value="E">E</option>
                        <option value="F">F</option>
                        <option value="G">G</option>
                        <option value="H">H</option>
                        <option value="I">I</option>
                        <option value="J">J</option>
                        <option value="K">K</option>
                        <option value="L">L</option>
                        <option value="M">M</option>
                        <option value="N">N</option>
                        <option value="O">O</option>
                        <option value="P">P</option>
                        <option value="Q">Q</option>
                        <option value="R">R</option>
                        <option value="S">S</option>
                        <option value="T">T</option>
                        <option value="U">U</option>
                        <option value="V">V</option>
                        <option value="W">W</option>
                        <option value="X">X</option>
                        <option value="Y">Y</option>
                        <option value="Z">Z</option>
                        <option value="">N/A</option>
                      </select>
                 
                </div> 
                </div>
              </div>
  
              <div class="row mb-3">
                <label for="name_extension" class="col-md-4 col-lg-3 col-form-label">Name Extension</label>
                <div class="col-md-8 col-lg-9">
                  <div class="col-md-10" style="width:100%;">
     
                      <select class="form-select" name="name_extension" id="name_extension" style="height:40px;" aria-label="name_extension">
                        
                        <option value="JR">JR</option>
                        <option value="SR">SR</option>
                        <option value="II">II</option>
                        <option value="III">III</option>
                        <option value="IV">IV</option>
                        <option value="V">V</option>
                        <option selected="" value="">N/A</option>

                      </select>
                 
                </div> 
                </div>
              </div>

              <div class="row mb-3">
                <label for="gender" class="col-md-4 col-lg-3 col-form-label">Gender</label>
                <div class="col-md-8 col-lg-9">
                  <div class="col-md-10" style="width:100%;">
     
                      <select class="form-select" name="gender" type="number" id="gender" style="height:40px;" aria-label="gender">
                        <option value="1">Male</option>
                        <option value="2">Female</option>
                      </select>
                 
                </div> 
                </div>
              </div>
              
              <div class="row mb-3">
                <label for="birth_date" class="col-md-4 col-lg-3 col-form-label">Birth Date</label>
                <div class="col-md-8 col-lg-9">
                  <input required name="birth_date" type="date" class="form-control" id="birth_date" value="">
                </div>
              </div>

              <div class="row mb-3">
                <label for="email" class="col-md-4 col-lg-3 col-form-label">Email Address</label>
                <div class="col-md-8 col-lg-9">
                  <input required name="email" type="email" class="form-control" id="email" value="" >
                </div>
              </div>
              
              <div class="row mb-3">
                <label for="honorific" class="col-md-4 col-lg-3 col-form-label">Honorific</label>
                <div class="col-md-8 col-lg-9">
                  <input name="honorific" type="text" class="form-control" id="honorific" value="">
                </div>
              </div>

              <div class="row mb-3">
                <label for="res_address" class="col-md-4 col-lg-3 col-form-label">Residential Address</label>
                <div class="col-md-8 col-lg-9">
                  <input name="res_address" type="text" class="form-control" id="res_address" value="">
                </div>
              </div>

              <div class="row mb-3">
                <label for="number" class="col-md-4 col-lg-3 col-form-label">Mobile Number</label>
                <div class="col-md-8 col-lg-9">
                    <input name="number" type="text" class="form-control" id="number" pattern="\d{11}" title="Enter a valid 11-digit mobile number" />
                </div>
            </div>


              <br><br><br>

              <h5 class="card-title">Faculty Information</h5>

              <div class="row mb-3">
                <label for="type" class="col-md-4 col-lg-3 col-form-label">Faculty Type</label>
                <div class="col-md-8 col-lg-9">
                  <div class="col-md-10" style="width:100%;">
                    <select class="form-select" name="type" id="type" style="height:40px;" aria-label="type">
                      <option value="Instructor">Instructor</option>
                      <option value="Lecturer">Lecturer</option>
                      <option value="Reseacher">Reseacher</option>
                      <option value="Professor">Professor</option>
                      <option value="Assistant Professor">Assistant Professor</option>
                      <option value="Associate Professor">Associate Professor</option>
                      <option value="Visiting Professor">Visiting Professor</option>
                      <option value="Emeritus Professor">Emeritus Professor</option>
                    </select>
                  </div> 
                </div>
              </div>

              <div class="row mb-3">
                <label for="rank" class="col-md-4 col-lg-3 col-form-label">Rank</label>
                <div class="col-md-8 col-lg-9">
                  <div class="col-md-10" style="width:100%;">
     
                      <select class="form-select" name="rank" id="rank" style="height:40px;" aria-label="rank">
                        <option value="Instructor I">Instructor I</option>
                        <option value="Instructor II">Instructor II</option>
                        <option value="Instructor III">Instructor III</option>
                        <option value="Instructor IV">Instructor IV</option>
                        <option value="Instructor V">Instructor V</option>

                        <option value="Assistant Professor I">Assistant Professor I</option>
                        <option value="Assistant Professor II">Assistant Professor II</option>
                        <option value="Assistant Professor III">Assistant Professor III</option>
                        <option value="Assistant Professor IV">Assistant Professor IV</option>
                        <option value="Assistant Professor V">Assistant Professor V</option>
                        
                        <option value="Associate Professor I">Associate Professor I</option>
                        <option value="Associate Professor II">Associate Professor II</option>
                        <option value="Associate Professor III">Associate Professor III</option>
                        <option value="Associate Professor IV">Associate Professor IV</option>
                        <option value="Associate Professor V">Associate Professor V</option>
                      </select>
                 
                </div> 
                </div>
              </div>

              <div class="row mb-3">
                <label for="units" class="col-md-4 col-lg-3 col-form-label">Units</label>
                <div class="col-md-8 col-lg-9">
                  <input required name="units" type="text" class="form-control" id="units" pattern="\d+(\.\d{1,2})?" title="Enter a valid decimal number" disabled />
                </div>
              </div>
            
                        <script>
                          document.getElementById('type').addEventListener('change', function() {
                            var unitInput = document.getElementById('units');
                            var typeValue = this.value;
                        
                            switch (typeValue) {
                              case 'Instructor':
                                unitInput.value = 12;
                                break;
                              case 'Lecturer':
                                unitInput.value = 9;
                                break;
                              case 'Reseacher':
                                unitInput.value = 2;
                                break;
                              case 'Professor':
                                unitInput.value = 15;
                                break;
                              case 'Assistant Professor':
                                unitInput.value = 12;
                                break;
                              case 'Associate Professor':
                                unitInput.value = 15;
                                break;
                              case 'Visiting Professor':
                                unitInput.value = 9;
                                break;
                              case 'Emeritus Professor':
                                unitInput.value = 1;
                                break;
                              default:
                                unitInput.value = 12; // You can set a default value if needed
                            }
                        
                            unitInput.setAttribute('value', unitInput.value); // Set the value attribute
                            unitInput.disabled = true; // If you want to disable the input after setting the value
                          });
                        </script>

              <div class="row mb-3">
                <label for="degree" class="col-md-4 col-lg-3 col-form-label">Degree</label>
                <div class="col-md-8 col-lg-9">
                  <div class="col-md-10" style="width:100%;">
     
                      <select class="form-select" name="degree" id="degree" style="height:40px;" aria-label="degree">
                        <!-- Master's Degrees -->
                        <option value="Master in Business Administration">Master in Business Administration</option>
                        <option value="Master of Science in Computer Science">Master of Science in Computer Science</option>
                        <option value="Master of Fine Arts in Creative Writing">Master of Fine Arts in Creative Writing</option>
                        <option value="Master of Social Work">Master of Social Work</option>
                        <option value="Master of Architecture">Master of Architecture</option>
                        <option value="Master of Public Health">Master of Public Health</option>
                        <option value="Master of Education">Master of Education</option>
                        <option value="Master of Laws">Master of Laws</option>
                        <option value="Master of Engineering in Civil Engineering">Master of Engineering in Civil Engineering</option>
                        <option value="Master of Arts in English Literature">Master of Arts in English Literature</option>
                        <option value="Master of Information Technology">Master of Information Technology</option>
                        <option value="Master of Computer Science">Master of Computer Science</option>
                        <option value="Master of Information Systems">Master of Information Systems</option>
                        <option value="Master of Software Development">Master of Software Development</option>
                        <option value="Master of Data Analytics">Master of Data Analytics</option>
                        <!-- Bachelor's Degrees -->
                        <option value="Bachelor in Physical Education">Bachelor in Physical Education</option>
                        <option value="Bachelor of Arts in Psychology">Bachelor of Arts in Psychology</option>
                        <option value="Bachelor of Engineering in Mechanical Engineering">Bachelor of Engineering in Mechanical Engineering</option>
                        <option value="Bachelor of Science in Environmental Science">Bachelor of Science in Environmental Science</option>
                        <option value="Bachelor of Music">Bachelor of Music</option>
                        <option value="Bachelor of Business Administration">Bachelor of Business Administration</option>
                        <option value="Bachelor of Science in Chemistry">Bachelor of Science in Chemistry</option>
                        <option value="Bachelor of Communication Studies">Bachelor of Communication Studies</option>
                        <option value="Bachelor of Social Work">Bachelor of Social Work</option>
                        <option value="Bachelor of Software Engineering">Bachelor of Software Engineering</option>
                        <option value="Bachelor of Data Science">Bachelor of Data Science</option>
                        <option value="Bachelor of Science in Information Technology">Bachelor of Science in Information Technology</option>
                        <option value="Bachelor of Fine Arts in Graphic Design">Bachelor of Fine Arts in Graphic Design</option>
                        <option value="Bachelor of Science in Nursing">Bachelor of Science in Nursing</option>
                        <option value="Bachelor of Fine Arts in Photography">Bachelor of Fine Arts in Photography</option>
                        <!-- Other Degrees -->
                        <option value="Doctor in Public Administration">Doctor in Public Administration</option>
                        <option value="Doctor of Medicine">Doctor of Medicine</option>
                        <option value="Doctor of Philosophy in Economics">Doctor of Philosophy in Economics</option>
                        <option value="Doctor of Dental Medicine">Doctor of Dental Medicine</option>
                        <option value="Doctor of Psychology">Doctor of Psychology</option>
                        <option value="Doctor of Veterinary Medicine">Doctor of Veterinary Medicine</option>
                        <option value="Juris Doctor">Juris Doctor</option>
                      </select>
                 
                </div> 
                </div>
              </div>

              <div class="row mb-3">
                <label for="specialization" class="col-md-4 col-lg-3 col-form-label">Specialization</label>
                <div class="col-md-8 col-lg-9">
                    <input name="specialization" type="text" class="form-control" id="specialization" />
                </div>
            </div>

              <div class="row mb-3">
                <label for="date_hired" class="col-md-4 col-lg-3 col-form-label">Date Hired</label>
                <div class="col-md-8 col-lg-9">
                  <input required name="date_hired" type="date" class="form-control" id="date_hired" value="" >
                </div>
              </div>

              <br><br><br>

              <h5 class="card-title">Preferred Schedule</h5>

              <div class="row mb-3">
                <label for="day" class="col-md-4 col-lg-3 col-form-label">Day</label>
                <div class="col-md-8 col-lg-9">
                  <div class="col-md-10" style="width:100%;">
     
                      <select class="form-select" name="day" id="day" style="height:40px;" aria-label="day">
                        <option value="Monday">Monday</option>
                        <option value="Tuesday">Tuesday</option>
                        <option value="Wednesday">Wednesday</option>
                        <option value="Thursday">Thursday</option>
                        <option value="Friday">Friday</option>
                        <option value="Monday to Tuesday">Monday to Tuesday</option>
                        <option value="Monday to Wednesday">Monday to Wednesday</option>
                        <option value="Monday to Thursday">Monday to Thursday</option>
                        <option value="Monday to Friday">Monday to Friday</option>
                        <option value="Tuesday to Wednesday">Tuesday to Wednesday</option>
                        <option value="Tuesday to Thursday">Tuesday to Thursday</option>
                        <option value="Tuesday to Friday">Tuesday to Friday</option>
                        <option value="Wednesday to Thursday">Wednesday to Thursday</option>
                        <option value="Wednesday to Friday">Wednesday to Friday</option>
                        <option value="Thursday to Friday">Thursday to Friday</option>
                        <option value="Monday, Wednesday, and Friday">Monday, Wednesday, and Friday</option>
                        <option value="Tuesday, Thursday, and Friday">Tuesday, Thursday, and Friday</option>
                        <option value="Monday, Tuesday, and Thursday">Monday, Tuesday, and Thursday</option>
                        <option value="Every Day">Every Day</option>
                      </select>
                 
                </div> 
                </div>
              </div>

              <div class="row mb-3">
                <label for="time" class="col-md-4 col-lg-3 col-form-label">Time</label>
                <div class="col-md-8 col-lg-9">
                  <div class="col-md-10" style="width:100%;">
     
                      <select class="form-select" name="time" id="time" style="height:40px;" aria-label="time">
                        <option value="9:00 AM - 12:00 PM">Morning (9:00 AM - 12:00 PM)</option>
                        <option value="12:00 PM - 2:00 PM">Noon (12:00 PM - 2:00 PM)</option>
                        <option value="2:00 PM - 6:00 PM">Afternoon (2:00 PM - 6:00 PM)</option>
                        <option value="6:00 PM - 9:00 PM">Evening (6:00 PM - 9:00 PM)</option>
                        <option value="Whole Day">Whole Day</option>
                      </select>
                 
                </div> 
                </div>
              </div>

              <br><br><br>

          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"><i class="bi bi-x-circle"></i> Cancel</button>
            <button type="submit" class="btn btn-primary"><i class="bi bi-plus-circle"></i> Add</button>
    </form>
          </div>
        </div>
      </div>
    </div><!-- End Add Record Modal-->

{% endblock %}
